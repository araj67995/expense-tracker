<%- include("partials/header"); %>

<div class="add-profile-budget">
    <h3><i class="fas fa-user-plus"></i> Edit Profile</h3>

    <form action="/save" method="post" id="profile-form">

        <input type="text" name="name" id="profile" placeholder="Enter Profile Name"  value="<%= found.name  %>">
  
        <div class="money-input">
          <input type="number" name="income" id="num1" placeholder="Your Income"  value="<%= found.income %>" oninput="calculateDifference()" required>
        </div>
  
        <div class="money-input">
          <input type="number" name="budget" id="num2" placeholder="Your Budget"  value="<%= found.budget %>" oninput="calculateDifference()" required>
        </div>
             
        <input type="hidden" name="id" value="<%= found._id %>" >

        <div class="money-input">
          <input type="number" name="saving" id="result" value="<%= found.saving %>" placeholder="Your Savings" readonly>
        </div>
  
        <button class="btn" type="submit"><i class="fas fa-save"></i> Add Profile & Budget</button>

      </form>

  </div>

  <script>
    // Function to calculate the difference
    function calculateDifference() {
        const num1 = parseFloat(document.getElementById('num1').value) || 0;
        const num2 = parseFloat(document.getElementById('num2').value) || 0;
        document.getElementById('result').value = num1 - num2;
    }
  
    // Attach event listeners to input fields
    document.getElementById('num1').addEventListener('input', calculateDifference);
    document.getElementById('num2').addEventListener('input', calculateDifference);
  </script>

  <%- include("partials/footer"); %>
